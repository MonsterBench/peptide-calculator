---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description: string;
  date: string;
  author?: string;
  readTime?: string;
  tags?: string[];
}

const { title, description, date, author = 'PepTalk Research', readTime = '8 min read', tags = [] } = Astro.props;

const schema = {
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": title,
  "description": description,
  "datePublished": date,
  "author": { "@type": "Person", "name": author },
  "publisher": {
    "@type": "Organization",
    "name": "PepTalk Peptides",
    "url": "https://peptalkpeptides.com",
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": `https://peptalkpeptides.com${Astro.url.pathname}`,
  },
};
---

<BaseLayout title={`${title} | PepTalk Peptides`} description={description} ogType="article" schema={schema}>
  <article class="max-w-3xl mx-auto px-4 py-12">
    <header class="mb-10 text-center">
      <div class="flex items-center justify-center gap-3 text-xs text-gray-400 mb-4">
        <time datetime={date}>{new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</time>
        <span>&middot;</span>
        <span>{readTime}</span>
      </div>
      <h1 class="text-3xl sm:text-4xl font-extrabold gradient-text tracking-tight leading-tight mb-4">{title}</h1>
      <p class="text-gray-300 text-lg leading-relaxed max-w-2xl mx-auto">{description}</p>
      {tags.length > 0 && (
        <div class="flex flex-wrap justify-center gap-2 mt-4">
          {tags.map(tag => (
            <span class="text-[10px] px-2 py-1 rounded-full bg-white/5 border border-white/10 text-gray-300 uppercase tracking-wider">{tag}</span>
          ))}
        </div>
      )}
    </header>

    <div class="glass-strong rounded-2xl p-6 sm:p-10 shadow-2xl">
      <div class="prose-peptide">
        <slot />
      </div>
    </div>

    <div class="mt-10 glass rounded-2xl p-6 text-center space-y-3">
      <p class="text-lg font-bold gradient-text">Ready to get started?</p>
      <p class="text-gray-300 text-sm">Use our free calculator to get exact dosing for your research.</p>
      <div class="flex flex-col sm:flex-row gap-3 justify-center">
        <a href="/calculator" class="pill-active text-white font-semibold px-6 py-3 rounded-xl text-sm inline-block">Open Calculator</a>
        <a href="https://peptiderestore.com?discount=DKE4PDRM" target="_blank" rel="noopener noreferrer" class="shop-btn text-white font-semibold px-6 py-3 rounded-xl text-sm inline-block">Shop Peptides â€” 5% Off</a>
      </div>
    </div>

    <nav class="mt-8 text-center">
      <a href="/blog" class="text-gray-400 hover:text-white text-sm transition-colors">&larr; Back to all articles</a>
    </nav>
  </article>
</BaseLayout>
