---
const currentPath = Astro.url.pathname;
const links = [
  { href: '/', label: 'Home', mobileHidden: true },
  { href: '/calculator', label: 'Calculator', reload: true },
  { href: '/blog', label: 'Blog' },
  { href: 'https://peptiderestore.com?discount=DKE4PDRM', label: 'Shop', external: true },
];
---

<header class="relative z-20 border-b border-white/5">
  <nav class="max-w-5xl mx-auto px-4 py-3 sm:py-4 flex items-center justify-between">
    <a href="/" class="flex items-center gap-2 group shrink-0">
      <img src="/logo.svg" alt="" class="h-7 w-auto" />
      <span class="text-xl font-extrabold gradient-text tracking-tight group-hover:opacity-90 transition-opacity">PepTalk</span>
    </a>
    <div class="flex items-center gap-1 sm:gap-2">
      {links.map(link => (
        <a
          href={link.href}
          target={link.external ? '_blank' : undefined}
          rel={link.external ? 'noopener noreferrer' : undefined}
          data-astro-reload={link.reload || undefined}
          class:list={[
            'px-2.5 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap',
            currentPath === link.href || (link.href !== '/' && currentPath.startsWith(link.href))
              ? 'pill-active text-white'
              : 'text-gray-300 hover:text-white hover:bg-white/5',
            link.external && 'shop-btn text-white',
            link.mobileHidden && 'hidden sm:inline-block',
          ]}
        >
          {link.label}
          {link.external && <span class="ml-1">&rarr;</span>}
        </a>
      ))}
    </div>
  </nav>
</header>
